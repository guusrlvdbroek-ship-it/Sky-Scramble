<!DOCTYPE html>
<html lang="nl">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>Vliegtuig Ontwijk Spel</title>
Â  Â  <style>
Â  Â  Â  Â  /* CSS voor de styling van het spel */
Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  overflow: hidden;Â 
Â  Â  Â  Â  Â  Â  background-color: #87ceeb; /* Luchtblauw */
Â  Â  Â  Â  Â  Â  font-family: sans-serif;
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  height: 100vh;
Â  Â  Â  Â  }

Â  Â  Â  Â  #gameContainer {
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  width: 500px;Â 
Â  Â  Â  Â  Â  Â  height: 600px;Â 
Â  Â  Â  Â  Â  Â  border: 3px solid #000;
Â  Â  Â  Â  Â  Â  background-color: #e0f2f7; /* Lichtblauwe achtergrond */
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Styling voor het vliegtuig */
Â  Â  Â  Â  #player {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  width: 50px;
Â  Â  Â  Â  Â  Â  height: 50px;
Â  Â  Â  Â  Â  Â  background-color: #ff4500; /* Oranje (vliegtuig) */
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  line-height: 50px;
Â  Â  Â  Â  Â  Â  font-size: 30px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 10px rgba(0, 0, 0, 0.4);
Â  Â  Â  Â  Â  Â  /* Zorgt voor een vloeiende rotatie bij beweging */
Â  Â  Â  Â  Â  Â  transition: transform 0.1s ease-out;Â 
Â  Â  Â  Â  Â  Â  z-index: 10;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Styling voor de vogels */
Â  Â  Â  Â  .obstacle {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  width: 40px;
Â  Â  Â  Â  Â  Â  height: 40px;
Â  Â  Â  Â  Â  Â  background-color: #8b4513; /* Bruin (vogel) */
Â  Â  Â  Â  Â  Â  border-radius: 50%;Â 
Â  Â  Â  Â  Â  Â  font-size: 25px;
Â  Â  Â  Â  Â  Â  line-height: 40px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  color: #fff;
Â  Â  Â  Â  Â  Â  z-index: 5;
Â  Â  Â  Â  }
Â  Â  Â  Â  .obstacle::before {
Â  Â  Â  Â  Â  Â  content: 'ğŸ¦';Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Styling voor de tornado's */
Â  Â  Â  Â  .tornado {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  width: 70px;Â 
Â  Â  Â  Â  Â  Â  height: 120px;
Â  Â  Â  Â  Â  Â  background: linear-gradient(to bottom, #a9a9a9, #5c5c5c);Â 
Â  Â  Â  Â  Â  Â  border-radius: 50% / 20%;Â 
Â  Â  Â  Â  Â  Â  /* De 'echte' vorm van de tornado is de achtergrond,
Â  Â  Â  Â  Â  Â  Â  Â het icoon wordt later gedraaid met de animatie */
Â  Â  Â  Â  Â  Â  transform: rotate(180deg);Â 
Â  Â  Â  Â  Â  Â  font-size: 60px;Â 
Â  Â  Â  Â  Â  Â  line-height: 120px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  color: rgba(255, 255, 255, 0.8);
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
Â  Â  Â  Â  Â  Â  z-index: 6;Â 
Â  Â  Â  Â  Â  Â  animation: tornadoSpin 2s infinite linear;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â  .tornado::before {
Â  Â  Â  Â  Â  Â  content: 'ğŸŒªï¸';Â 
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: 50%;
Â  Â  Â  Â  Â  Â  left: 50%;
Â  Â  Â  Â  Â  Â  transform: translate(-50%, -50%) rotate(0deg);Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Tornado spin animatie */
Â  Â  Â  Â  @keyframes tornadoSpin {
Â  Â  Â  Â  Â  Â  from { transform: rotate(0deg) scaleY(1); }
Â  Â  Â  Â  Â  Â  to { transform: rotate(360deg) scaleY(1); }
Â  Â  Â  Â  }


Â  Â  Â  Â  /* Score- en knoppenbalk bovenaan */
Â  Â  Â  Â  #topBar {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: flex-start;Â 
Â  Â  Â  Â  Â  Â  gap: 20px; /* Afstand tussen score en timer */
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  padding: 10px;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  background-color: rgba(255, 255, 255, 0.8);
Â  Â  Â  Â  Â  Â  border-bottom: 1px solid #ccc;
Â  Â  Â  Â  Â  Â  z-index: 20;
Â  Â  Â  Â  }

Â  Â  Â  Â  #score, #timer {
Â  Â  Â  Â  Â  Â  font-size: 1.2em;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* De knoppen naar rechts duwen */
Â  Â  Â  Â  #controls {
Â  Â  Â  Â  Â  Â  margin-left: auto; /* Duwt de knoppen naar de rechterkant */
Â  Â  Â  Â  }

Â  Â  Â  Â  .controlButton {
Â  Â  Â  Â  Â  Â  padding: 8px 15px;
Â  Â  Â  Â  Â  Â  font-size: 1em;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  margin-left: 10px;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
Â  Â  Â  Â  }

Â  Â  Â  Â  #pauseButton {
Â  Â  Â  Â  Â  Â  background-color: #ffc107;Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  #homeButtonTop {
Â  Â  Â  Â  Â  Â  background-color: #007bff;Â 
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Game Over / Home Schermen */
Â  Â  Â  Â  .overlay {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  background-color: rgba(0, 0, 0, 0.7);Â 
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  z-index: 30;
Â  Â  Â  Â  Â  Â  visibility: hidden;
Â  Â  Â  Â  Â  Â  opacity: 0;
Â  Â  Â  Â  Â  Â  transition: visibility 0s, opacity 0.3s linear;
Â  Â  Â  Â  }

Â  Â  Â  Â  .overlay.active {
Â  Â  Â  Â  Â  Â  visibility: visible;
Â  Â  Â  Â  Â  Â  opacity: 1;
Â  Â  Â  Â  }

Â  Â  Â  Â  .overlay h2 {
Â  Â  Â  Â  Â  Â  font-size: 3em;
Â  Â  Â  Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .overlay p {
Â  Â  Â  Â  Â  Â  font-size: 1.5em;
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .overlay button {
Â  Â  Â  Â  Â  Â  padding: 12px 25px;
Â  Â  Â  Â  Â  Â  font-size: 1.2em;
Â  Â  Â  Â  Â  Â  margin: 5px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.5);
Â  Â  Â  Â  }

Â  Â  Â  Â  #goButton {
Â  Â  Â  Â  Â  Â  background-color: #28a745;Â 
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  }

Â  Â  Â  Â  #homeButtonGameOver {
Â  Â  Â  Â  Â  Â  background-color: #007bff;Â 
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  }

Â  Â  Â  Â  #startButton {
Â  Â  Â  Â  Â  Â  background-color: #28a745;Â 
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Vliegtuig icoon (voor de speler) */
Â  Â  Â  Â  #player::after {
Â  Â  Â  Â  Â  Â  content: 'âœˆï¸';Â 
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: 50%;
Â  Â  Â  Â  Â  Â  left: 50%;
Â  Â  Â  Â  Â  Â  /* Deze transform wordt overschreven door JS om de rotatie te beheren */
Â  Â  Â  Â  Â  Â  transform: translate(-50%, -50%);Â 
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body>

Â  Â  <div id="gameContainer">
Â  Â  Â  Â  <div id="topBar">
Â  Â  Â  Â  Â  Â  <span id="score">Score: 0</span>
Â  Â  Â  Â  Â  Â  <span id="timer">Tijd: 0s</span>
Â  Â  Â  Â  Â  Â  <div id="controls"> <button id="pauseButton" class="controlButton">Pauze</button>
Â  Â  Â  Â  Â  Â  Â  Â  <button id="homeButtonTop" class="controlButton">ğŸ  Home</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="player"></div>

Â  Â  Â  Â  <div id="homeScreen" class="overlay active">
Â  Â  Â  Â  Â  Â  <h2>Vliegtuig Ontwijk Spel</h2>
Â  Â  Â  Â  Â  Â  <p>Ontwijk de vogels en tornado's! Gebruik de pijltjestoetsen of WASD om te bewegen.</p>
Â  Â  Â  Â  Â  Â  <p>Highscore: <span id="homeHighscore">0</span> | Langste Tijd: <span id="homeLongestTime">0s</span></p>
Â  Â  Â  Â  Â  Â  <button id="startButton">START SPEL</button>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="gameOverScreen" class="overlay">
Â  Â  Â  Â  Â  Â  <h2>GAME OVER</h2>
Â  Â  Â  Â  Â  Â  <p>Score: <span id="finalScore">0</span> | Tijd: <span id="finalTime">0s</span></p>Â 
Â  Â  Â  Â  Â  Â  <p>Highscore: <span id="gameOverHighscore">0</span> | Langste Tijd: <span id="gameOverLongestTime">0s</span></p>Â 
Â  Â  Â  Â  Â  Â  <button id="goButton">ğŸ”„ Opnieuw Spelen</button>
Â  Â  Â  Â  Â  Â  <button id="homeButtonGameOver">ğŸ  Home</button>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="pauseScreen" class="overlay">
Â  Â  Â  Â  Â  Â  <h2>Pauze</h2>
Â  Â  Â  Â  Â  Â  <p>Druk op 'Hervat' of de spatiebalk om verder te gaan.</p>
Â  Â  Â  Â  Â  Â  <button id="resumeButton" style="background-color: #28a745; color: white;">â–¶ï¸ Hervat</button>
Â  Â  Â  Â  Â  Â  <button id="homeButtonPause">ğŸ  Home</button>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <script>
Â  Â  Â  Â  // JavaScript voor de spellogica
Â  Â  Â  Â  const player = document.getElementById('player');
Â  Â  Â  Â  const gameContainer = document.getElementById('gameContainer');
Â  Â  Â  Â  const scoreDisplay = document.getElementById('score');
Â  Â  Â  Â  const timerDisplay = document.getElementById('timer');Â 
Â  Â  Â  Â  const finalScoreDisplay = document.getElementById('finalScore');
Â  Â  Â  Â  const finalTimeDisplay = document.getElementById('finalTime');Â 
Â  Â  Â  Â  const gameOverScreen = document.getElementById('gameOverScreen');
Â  Â  Â  Â  const homeScreen = document.getElementById('homeScreen');
Â  Â  Â  Â  const pauseScreen = document.getElementById('pauseScreen');
Â  Â  Â  Â  const gameOverHighscoreDisplay = document.getElementById('gameOverHighscore');
Â  Â  Â  Â  const homeHighscoreDisplay = document.getElementById('homeHighscore');
Â  Â  Â  Â  const gameOverLongestTimeDisplay = document.getElementById('gameOverLongestTime');Â 
Â  Â  Â  Â  const homeLongestTimeDisplay = document.getElementById('homeLongestTime');Â 

Â  Â  Â  Â  const containerWidth = gameContainer.clientWidth;
Â  Â  Â  Â  const containerHeight = gameContainer.clientHeight;
Â  Â  Â  Â  const playerSize = 50;

Â  Â  Â  Â  let score = 0;
Â  Â  Â  Â  let highscore = parseInt(localStorage.getItem('airplaneHighscore') || 0, 10);
Â  Â  Â  Â  let longestTime = parseInt(localStorage.getItem('airplaneLongestTime') || 0, 10);Â 
Â  Â  Â  Â  let gameLoopInterval;
Â  Â  Â  Â  let obstacleInterval;
Â  Â  Â  Â  let difficultyInterval; // Interval voor obstakel SNELHEIDSverhoging (elke 30s)
Â  Â  Â  Â  let spawnRateInterval; // Interval voor obstakel FREQUENTIEverhoging (elke 25s)
Â  Â  Â  Â  let timerInterval;Â 
Â  Â  Â  Â  let currentTime = 0;Â 

Â  Â  Â  Â  let isGameOver = true;
Â  Â  Â  Â  let isPaused = false;
Â  Â  Â  Â Â 
Â  Â  Â  Â  // --- Moeilijkheidsgraad variabelen ---
Â  Â  Â  Â Â 
Â  Â  Â  Â  // 1. Variabelen voor Obstakel Frequentie (Spawn Rate)
Â  Â  Â  Â  let currentObstacleIntervalDuration = 1200; // Start met 1.2s tussen obstakels
Â  Â  Â  Â  const minObstacleInterval = 400; // De snelste spawn rate is 0.4s
Â  Â  Â  Â  const intervalDecreaseStep = 100; // Elke stap wordt 100ms korter
Â  Â  Â  Â  const spawnRateStepDuration = 25000; // De frequentie verhoogt elke 25 seconden (25000 ms)

Â  Â  Â  Â  // 2. Variabelen voor Obstakel Snelheid
Â  Â  Â  Â  const difficultyStepDuration = 30000; // Snelheid verhoogt elke 30s
Â  Â  Â  Â  let currentObstacleSpeedFactor = 1.0;Â 
Â  Â  Â  Â  const speedIncreaseStep = 0.15;Â 
Â  Â  Â  Â  const maxObstacleSpeedFactor = 3.0;Â 

Â  Â  Â  Â  // 3. Variabelen voor Vliegtuig Snelheid
Â  Â  Â  Â  const baseMoveSpeed = 8;Â 
Â  Â  Â  Â  const moveSpeedIncreaseStep = 1; // Iets minder agressief dan de obstakels
Â  Â  Â  Â  const playerSpeedIncreaseDuration = 25000;
Â  Â  Â  Â  let moveSpeed = baseMoveSpeed;Â 
Â  Â  Â  Â  let playerSpeedInterval;Â 

Â  Â  Â  Â  // Vliegtuig positie
Â  Â  Â  Â  let playerX = containerWidth / 2 - playerSize / 2;
Â  Â  Â  Â  let playerY = containerHeight - playerSize - 10;
Â  Â  Â  Â  let playerRotation = 0; // Nieuwe variabele voor de rotatie in graden
Â  Â  Â  Â Â 
Â  Â  Â  Â  let keys = {};Â 

Â  Â  Â  Â  // --- TIMER FUNCTIES ---

Â  Â  Â  Â  function startTimer() {
Â  Â  Â  Â  Â  Â  currentTime = 0;
Â  Â  Â  Â  Â  Â  timerDisplay.textContent = `Tijd: ${currentTime}s`;
Â  Â  Â  Â  Â  Â  timerInterval = setInterval(() => {
Â  Â  Â  Â  Â  Â  Â  Â  if (!isPaused && !isGameOver) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  currentTime++;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  timerDisplay.textContent = `Tijd: ${currentTime}s`;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }, 1000);Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  function stopTimer() {
Â  Â  Â  Â  Â  Â  clearInterval(timerInterval);
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- SPELER SNELHEID FUNCTIES ---
Â  Â  Â  Â Â 
Â  Â  Â  Â  function increasePlayerSpeed() {
Â  Â  Â  Â  Â  Â  moveSpeed += moveSpeedIncreaseStep;
Â  Â  Â  Â  }

Â  Â  Â  Â  function updatePlayerPosition() {
Â  Â  Â  Â  Â  Â  if (isGameOver || isPaused) return;

Â  Â  Â  Â  Â  Â  // Beweging gebruikt de dynamische 'moveSpeed'
Â  Â  Â  Â  Â  Â  let movingLeft = keys['ArrowLeft'] || keys['a'];
Â  Â  Â  Â  Â  Â  let movingRight = keys['ArrowRight'] || keys['d'];
Â  Â  Â  Â  Â  Â  let newRotation = 0; // Standaard recht

Â  Â  Â  Â  Â  Â  if (movingLeft) {
Â  Â  Â  Â  Â  Â  Â  Â  playerX -= moveSpeed;
Â  Â  Â  Â  Â  Â  Â  Â  newRotation = -15; // Draai naar links
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  if (movingRight) {
Â  Â  Â  Â  Â  Â  Â  Â  playerX += moveSpeed;
Â  Â  Â  Â  Â  Â  Â  Â  newRotation = 15; // Draai naar rechts
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  // Beheer rotatie overgang
Â  Â  Â  Â  Â  Â  playerRotation = newRotation;

Â  Â  Â  Â  Â  Â  if (keys['ArrowUp'] || keys['w']) {
Â  Â  Â  Â  Â  Â  Â  Â  playerY -= moveSpeed;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  if (keys['ArrowDown'] || keys['s']) {
Â  Â  Â  Â  Â  Â  Â  Â  playerY += moveSpeed;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // Zorg ervoor dat het vliegtuig binnen de grenzen blijft (top bar is ~40px)
Â  Â  Â  Â  Â  Â  playerX = Math.max(0, Math.min(containerWidth - playerSize, playerX));
Â  Â  Â  Â  Â  Â  playerY = Math.max(40, Math.min(containerHeight - playerSize, playerY));Â 

Â  Â  Â  Â  Â  Â  player.style.left = playerX + 'px';
Â  Â  Â  Â  Â  Â  player.style.top = playerY + 'px';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Pas de rotatie toe voor een realistischer effect
Â  Â  Â  Â  Â  Â  player.style.transform = `rotate(${playerRotation}deg)`;Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  // Event listeners voor toetsenbord
Â  Â  Â  Â  document.addEventListener('keydown', (e) => {
Â  Â  Â  Â  Â  Â  // Voorkom scrollen in het venster met pijltjestoetsen of spatiebalk
Â  Â  Â  Â  Â  Â  if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight', ' ', 'w', 'a', 's', 'd'].includes(e.key)) {
Â  Â  Â  Â  Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  if (e.key in keys) {
Â  Â  Â  Â  Â  Â  Â  Â  keys[e.key] = true;
Â  Â  Â  Â  Â  Â  } else if (e.key === ' ' && !isGameOver) {
Â  Â  Â  Â  Â  Â  Â  Â  togglePause();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });

Â  Â  Â  Â  document.addEventListener('keyup', (e) => {
Â  Â  Â  Â  Â  Â  if (e.key in keys) {
Â  Â  Â  Â  Â  Â  Â  Â  keys[e.key] = false;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });

Â  Â  Â  Â  // Initialiseer de keys voor beweging
Â  Â  Â  Â  keys['ArrowUp'] = false; keys['ArrowDown'] = false; keys['ArrowLeft'] = false; keys['ArrowRight'] = false;
Â  Â  Â  Â  keys['w'] = false; keys['s'] = false; keys['a'] = false; keys['d'] = false;


Â  Â  Â  Â  function createObstacle() {
Â  Â  Â  Â  Â  Â  if (isGameOver || isPaused) return;

Â  Â  Â  Â  Â  Â  // Random kans om een vogel (70%) of een tornado (30%) te maken
Â  Â  Â  Â  Â  Â  if (Math.random() < 0.7) {Â 
Â  Â  Â  Â  Â  Â  Â  Â  const obstacle = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  obstacle.classList.add('obstacle');
Â  Â  Â  Â  Â  Â  Â  Â  const obstacleSize = 40;Â 
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  let obstacleX = Math.random() * (containerWidth - obstacleSize);
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  obstacle.style.width = obstacleSize + 'px';
Â  Â  Â  Â  Â  Â  Â  Â  obstacle.style.height = obstacleSize + 'px';
Â  Â  Â  Â  Â  Â  Â  Â  obstacle.style.left = obstacleX + 'px';
Â  Â  Â  Â  Â  Â  Â  Â  obstacle.style.top = -obstacleSize + 'px';Â 

Â  Â  Â  Â  Â  Â  Â  Â  gameContainer.appendChild(obstacle);
Â  Â  Â  Â  Â  Â  } else {Â 
Â  Â  Â  Â  Â  Â  Â  Â  createTornado();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function createTornado() {
Â  Â  Â  Â  Â  Â  if (isGameOver || isPaused) return;

Â  Â  Â  Â  Â  Â  const tornado = document.createElement('div');
Â  Â  Â  Â  Â  Â  tornado.classList.add('tornado');
Â  Â  Â  Â  Â  Â  const tornadoWidth = 70;
Â  Â  Â  Â  Â  Â  const tornadoHeight = 120;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  let tornadoX = Math.random() * (containerWidth - tornadoWidth);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  tornado.style.width = tornadoWidth + 'px';
Â  Â  Â  Â  Â  Â  tornado.style.height = tornadoHeight + 'px';
Â  Â  Â  Â  Â  Â  tornado.style.left = tornadoX + 'px';
Â  Â  Â  Â  Â  Â  tornado.style.top = -tornadoHeight + 'px';Â 

Â  Â  Â  Â  Â  Â  gameContainer.appendChild(tornado);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // --- Frequentieverhoging ---
Â  Â  Â  Â  function decreaseSpawnInterval() {
Â  Â  Â  Â  Â  Â  // 1. Verlaag de wachttijd tussen obstakels (minimaal 400ms)
Â  Â  Â  Â  Â  Â  if (currentObstacleIntervalDuration > minObstacleInterval) {
Â  Â  Â  Â  Â  Â  Â  Â  currentObstacleIntervalDuration = Math.max(minObstacleInterval, currentObstacleIntervalDuration - intervalDecreaseStep);
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // 2. Stop de oude interval
Â  Â  Â  Â  Â  Â  Â  Â  clearInterval(obstacleInterval);
Â  Â  Â  Â  Â  Â  Â  Â  // 3. Start de nieuwe interval met de kortere wachttijd
Â  Â  Â  Â  Â  Â  Â  Â  obstacleInterval = setInterval(createObstacle, currentObstacleIntervalDuration);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  console.log(`Obstakel frequentie verhoogd! Nieuw interval: ${currentObstacleIntervalDuration}ms`);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Functie voor obstakel SNELHEIDSverhoging
Â  Â  Â  Â  function increaseObstacleSpeed() {
Â  Â  Â  Â  Â  Â  // Verhoog de snelheid van de obstakelsÂ 
Â  Â  Â  Â  Â  Â  if (currentObstacleSpeedFactor < maxObstacleSpeedFactor) {
Â  Â  Â  Â  Â  Â  Â  Â  currentObstacleSpeedFactor += speedIncreaseStep;
Â  Â  Â  Â  Â  Â  Â  Â  console.log(`Obstakel snelheid verhoogd! Nieuwe factor: ${currentObstacleSpeedFactor}`);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }


Â  Â  Â  Â  function updateObstacles() {
Â  Â  Â  Â  Â  Â  if (isGameOver || isPaused) return;

Â  Â  Â  Â  Â  Â  // Zorgt ervoor dat de snelheid toeneemt met de score
Â  Â  Â  Â  Â  Â  const scoreSpeedMultiplier = 1 + score * 0.005;Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const baseObstacleSpeed = 3;Â 
Â  Â  Â  Â  Â  Â  const baseTornadoSpeed = 2.5;

Â  Â  Â  Â  Â  Â  // De uiteindelijke snelheid is afhankelijk van Score EN de Tijd (currentObstacleSpeedFactor)
Â  Â  Â  Â  Â  Â  const finalObstacleSpeed = baseObstacleSpeed * scoreSpeedMultiplier * currentObstacleSpeedFactor;
Â  Â  Â  Â  Â  Â  const finalTornadoSpeed = baseTornadoSpeed * scoreSpeedMultiplier * currentObstacleSpeedFactor;


Â  Â  Â  Â  Â  Â  // Update vogels
Â  Â  Â  Â  Â  Â  document.querySelectorAll('.obstacle').forEach(obstacle => {
Â  Â  Â  Â  Â  Â  Â  Â  let currentY = parseFloat(obstacle.style.top);
Â  Â  Â  Â  Â  Â  Â  Â  currentY += finalObstacleSpeed;Â 
Â  Â  Â  Â  Â  Â  Â  Â  obstacle.style.top = currentY + 'px';

Â  Â  Â  Â  Â  Â  Â  Â  if (currentY > containerHeight) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  obstacle.remove();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  score++;Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  scoreDisplay.textContent = `Score: ${score}`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (score > highscore) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  highscore = score;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  localStorage.setItem('airplaneHighscore', highscore);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  if (checkCollision(player, obstacle)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  endGame();
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  // Update tornado's
Â  Â  Â  Â  Â  Â  document.querySelectorAll('.tornado').forEach(tornado => {
Â  Â  Â  Â  Â  Â  Â  Â  let currentY = parseFloat(tornado.style.top);
Â  Â  Â  Â  Â  Â  Â  Â  currentY += finalTornadoSpeed;Â 
Â  Â  Â  Â  Â  Â  Â  Â  tornado.style.top = currentY + 'px';

Â  Â  Â  Â  Â  Â  Â  Â  if (currentY > containerHeight) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  tornado.remove();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  score += 2; // Tornado's geven meer punten
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  scoreDisplay.textContent = `Score: ${score}`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (score > highscore) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  highscore = score;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  localStorage.setItem('airplaneHighscore', highscore);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  if (checkCollision(player, tornado)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  endGame();
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  function checkCollision(element1, element2) {
Â  Â  Â  Â  Â  Â  const rect1 = element1.getBoundingClientRect();
Â  Â  Â  Â  Â  Â  const rect2 = element2.getBoundingClientRect();
Â  Â  Â  Â  Â  Â  const containerRect = gameContainer.getBoundingClientRect();

Â  Â  Â  Â  Â  Â  // Relatieve posities t.o.v. gameContainer
Â  Â  Â  Â  Â  Â  const pX = rect1.left - containerRect.left;
Â  Â  Â  Â  Â  Â  const pY = rect1.top - containerRect.top;
Â  Â  Â  Â  Â  Â  const oX = rect2.left - containerRect.left;
Â  Â  Â  Â  Â  Â  const oY = rect2.top - containerRect.top;

Â  Â  Â  Â  Â  Â  // De rect2.width/height is de *werkelijke* grootte op het scherm

Â  Â  Â  Â  Â  Â  if (element2.classList.contains('tornado')) {
Â  Â  Â  Â  Â  Â  Â  Â  // Pas hitbox aan voor tornado's (minder strikte botsing)
Â  Â  Â  Â  Â  Â  Â  Â  // Maak de hitbox 20% kleiner aan alle kanten
Â  Â  Â  Â  Â  Â  Â  Â  const tornadoHitboxShrinkX = 0.2;Â 
Â  Â  Â  Â  Â  Â  Â  Â  const tornadoHitboxShrinkY = 0.2;Â 

Â  Â  Â  Â  Â  Â  Â  Â  const adjustedO_left = oX + rect2.width * tornadoHitboxShrinkX;
Â  Â  Â  Â  Â  Â  Â  Â  const adjustedO_right = oX + rect2.width * (1 - tornadoHitboxShrinkX);
Â  Â  Â  Â  Â  Â  Â  Â  const adjustedO_top = oY + rect2.height * tornadoHitboxShrinkY;
Â  Â  Â  Â  Â  Â  Â  Â  const adjustedO_bottom = oY + rect2.height * (1 - tornadoHitboxShrinkY);

Â  Â  Â  Â  Â  Â  Â  Â  return (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  pX < adjustedO_right &&
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  pX + rect1.width > adjustedO_left &&
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  pY < adjustedO_bottom &&
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  pY + rect1.height > adjustedO_top
Â  Â  Â  Â  Â  Â  Â  Â  );

Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  // Standaard botsing voor vogels
Â  Â  Â  Â  Â  Â  Â  Â  return (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  pX < oX + rect2.width &&
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  pX + rect1.width > oX &&
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  pY < oY + rect2.height &&
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  pY + rect1.height > oY
Â  Â  Â  Â  Â  Â  Â  Â  );
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- SPEL CYCLUS FUNCTIES ---

Â  Â  Â  Â  function startGame() {
Â  Â  Â  Â  Â  Â  isGameOver = false;
Â  Â  Â  Â  Â  Â  isPaused = false;
Â  Â  Â  Â  Â  Â  score = 0;
Â  Â  Â  Â  Â  Â  scoreDisplay.textContent = `Score: ${score}`;
Â  Â  Â  Â  Â  Â  playerX = containerWidth / 2 - playerSize / 2;
Â  Â  Â  Â  Â  Â  playerY = containerHeight - playerSize - 10;
Â  Â  Â  Â  Â  Â  player.style.left = playerX + 'px';
Â  Â  Â  Â  Â  Â  player.style.top = playerY + 'px';
Â  Â  Â  Â  Â  Â  playerRotation = 0; // Reset rotatie
Â  Â  Â  Â  Â  Â  player.style.transform = `rotate(0deg)`; // Zorg dat het icoon recht staat
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Reset snelheden en frequenties
Â  Â  Â  Â  Â  Â  moveSpeed = baseMoveSpeed;
Â  Â  Â  Â  Â  Â  currentObstacleIntervalDuration = 1200;
Â  Â  Â  Â  Â  Â  currentObstacleSpeedFactor = 1.0;

Â  Â  Â  Â  Â  Â  document.querySelectorAll('.obstacle, .tornado').forEach(o => o.remove());

Â  Â  Â  Â  Â  Â  gameOverScreen.classList.remove('active');
Â  Â  Â  Â  Â  Â  homeScreen.classList.remove('active');
Â  Â  Â  Â  Â  Â  pauseScreen.classList.remove('active');
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Start de loops
Â  Â  Â  Â  Â  Â  gameLoopInterval = setInterval(gameLoop, 1000 / 60);Â 
Â  Â  Â  Â  Â  Â  // Gebruik de actuele intervalduur om te starten
Â  Â  Â  Â  Â  Â  obstacleInterval = setInterval(createObstacle, currentObstacleIntervalDuration);Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Start de Moeilijkheidsgraad Intervallen
Â  Â  Â  Â  Â  Â  difficultyInterval = setInterval(increaseObstacleSpeed, difficultyStepDuration);Â 
Â  Â  Â  Â  Â  Â  playerSpeedInterval = setInterval(increasePlayerSpeed, playerSpeedIncreaseDuration);Â 
Â  Â  Â  Â  Â  Â  spawnRateInterval = setInterval(decreaseSpawnInterval, spawnRateStepDuration);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Start de timer
Â  Â  Â  Â  Â  Â  startTimer();Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Zorg ervoor dat de pauzeknop weer 'Pauze' toont
Â  Â  Â  Â  Â  Â  document.getElementById('pauseButton').textContent = 'Pauze';
Â  Â  Â  Â  }

Â  Â  Â  Â  function endGame() {
Â  Â  Â  Â  Â  Â  isGameOver = true;
Â  Â  Â  Â  Â  Â  clearInterval(gameLoopInterval);
Â  Â  Â  Â  Â  Â  clearInterval(obstacleInterval);
Â  Â  Â  Â  Â  Â  clearInterval(difficultyInterval);Â 
Â  Â  Â  Â  Â  Â  clearInterval(playerSpeedInterval);Â 
Â  Â  Â  Â  Â  Â  clearInterval(spawnRateInterval);Â 
Â  Â  Â  Â  Â  Â  stopTimer();Â 

Â  Â  Â  Â  Â  Â  // Update Langste Tijd
Â  Â  Â  Â  Â  Â  if (currentTime > longestTime) {
Â  Â  Â  Â  Â  Â  Â  Â  longestTime = currentTime;
Â  Â  Â  Â  Â  Â  Â  Â  localStorage.setItem('airplaneLongestTime', longestTime);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  finalScoreDisplay.textContent = score;
Â  Â  Â  Â  Â  Â  finalTimeDisplay.textContent = `${currentTime}s`;Â 
Â  Â  Â  Â  Â  Â  gameOverHighscoreDisplay.textContent = highscore;
Â  Â  Â  Â  Â  Â  gameOverLongestTimeDisplay.textContent = `${longestTime}s`;Â 
Â  Â  Â  Â  Â  Â  gameOverScreen.classList.add('active');
Â  Â  Â  Â  }

Â  Â  Â  Â  function goToHome() {
Â  Â  Â  Â  Â  Â  clearInterval(gameLoopInterval);
Â  Â  Â  Â  Â  Â  clearInterval(obstacleInterval);
Â  Â  Â  Â  Â  Â  clearInterval(difficultyInterval);
Â  Â  Â  Â  Â  Â  clearInterval(playerSpeedInterval);Â 
Â  Â  Â  Â  Â  Â  clearInterval(spawnRateInterval);Â 
Â  Â  Â  Â  Â  Â  stopTimer();Â 
Â  Â  Â  Â  Â  Â  isGameOver = true;
Â  Â  Â  Â  Â  Â  isPaused = false;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Zorg ervoor dat de highscore en longest time op het startscherm worden weergegeven
Â  Â  Â  Â  Â  Â  highscore = parseInt(localStorage.getItem('airplaneHighscore') || 0, 10);
Â  Â  Â  Â  Â  Â  longestTime = parseInt(localStorage.getItem('airplaneLongestTime') || 0, 10);

Â  Â  Â  Â  Â  Â  homeHighscoreDisplay.textContent = highscore;
Â  Â  Â  Â  Â  Â  homeLongestTimeDisplay.textContent = `${longestTime}s`;Â 

Â  Â  Â  Â  Â  Â  document.querySelectorAll('.obstacle, .tornado').forEach(o => o.remove());

Â  Â  Â  Â  Â  Â  // Reset Timer DisplayÂ 
Â  Â  Â  Â  Â  Â  timerDisplay.textContent = `Tijd: 0s`;
Â  Â  Â  Â  Â  Â  scoreDisplay.textContent = `Score: 0`;

Â  Â  Â  Â  Â  Â  gameOverScreen.classList.remove('active');
Â  Â  Â  Â  Â  Â  pauseScreen.classList.remove('active');
Â  Â  Â  Â  Â  Â  homeScreen.classList.add('active');
Â  Â  Â  Â  }

Â  Â  Â  Â  function togglePause() {
Â  Â  Â  Â  Â  Â  if (isGameOver) return;

Â  Â  Â  Â  Â  Â  isPaused = !isPaused;

Â  Â  Â  Â  Â  Â  if (isPaused) {
Â  Â  Â  Â  Â  Â  Â  Â  clearInterval(gameLoopInterval);
Â  Â  Â  Â  Â  Â  Â  Â  clearInterval(obstacleInterval);
Â  Â  Â  Â  Â  Â  Â  Â  clearInterval(difficultyInterval);Â 
Â  Â  Â  Â  Â  Â  Â  Â  clearInterval(playerSpeedInterval);Â 
Â  Â  Â  Â  Â  Â  Â  Â  clearInterval(spawnRateInterval);Â 
Â  Â  Â  Â  Â  Â  Â  Â  pauseScreen.classList.add('active');
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('pauseButton').textContent = 'â–¶ï¸ Hervat';
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  gameLoopInterval = setInterval(gameLoop, 1000 / 60);
Â  Â  Â  Â  Â  Â  Â  Â  // Herstart met de actuele moeilijkheidsgraad instellingen
Â  Â  Â  Â  Â  Â  Â  Â  obstacleInterval = setInterval(createObstacle, currentObstacleIntervalDuration);Â 
Â  Â  Â  Â  Â  Â  Â  Â  difficultyInterval = setInterval(increaseObstacleSpeed, difficultyStepDuration);Â 
Â  Â  Â  Â  Â  Â  Â  Â  playerSpeedInterval = setInterval(increasePlayerSpeed, playerSpeedIncreaseDuration);Â 
Â  Â  Â  Â  Â  Â  Â  Â  spawnRateInterval = setInterval(decreaseSpawnInterval, spawnRateStepDuration);Â 
Â  Â  Â  Â  Â  Â  Â  Â  pauseScreen.classList.remove('active');
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('pauseButton').textContent = 'Pauze';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function gameLoop() {
Â  Â  Â  Â  Â  Â  updatePlayerPosition();
Â  Â  Â  Â  Â  Â  updateObstacles();
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- INITIALISATIE & EVENT LISTENERS ---

Â  Â  Â  Â  // Initialiseer met Home Scherm
Â  Â  Â  Â  goToHome();Â 

Â  Â  Â  Â  // Knoppen Event Listeners
Â  Â  Â  Â  document.getElementById('startButton').addEventListener('click', startGame);
Â  Â  Â  Â  document.getElementById('goButton').addEventListener('click', startGame);
Â  Â  Â  Â  document.getElementById('pauseButton').addEventListener('click', togglePause);
Â  Â  Â  Â  document.getElementById('resumeButton').addEventListener('click', togglePause);
Â  Â  Â  Â  document.getElementById('homeButtonTop').addEventListener('click', goToHome);
Â  Â  Â  Â  document.getElementById('homeButtonGameOver').addEventListener('click', goToHome);
Â  Â  Â  Â  document.getElementById('homeButtonPause').addEventListener('click', goToHome);

Â  Â  </script>
</body>
</html>
